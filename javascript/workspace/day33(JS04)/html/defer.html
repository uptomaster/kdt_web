<!-- 4번 : defer 속성-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>defer 속성</title>
</head>
<body>
  <p>defer 속성이 있는 script 태그 전 p태그입니다</p>
  <!-- DOMContentLoaded 이벤트 등록-->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      alert("`defer`스크립트가 실행된 후 DOM이 준비되었습니다");
    });
  </script>
  <script defer src="https://javascript.info/article/script-async-defer/long.js?speed=1"></script>
  <p>스크립트 뒤 콘텐츠</p>
</body>
</html>

<!-- 정상흐름(defer 적용시)
1. html을 파싱하면서 <p>태그들을 화면에 출력한다.
2. defer가 있는 스크립트는 백그라운드에서 다운로드 된다.
3. HTML 파싱이 끝나면 defer 스크립트가 실행된다.
4. 모든 스크립트 실행이 완료되면 DOMContentLoaded 이벤트 발생 -> alert()실행

defer 없이 script 태그를 사용하면
HTML파싱(읽어들이는 것)이 중간에 멈추게 된다.
스크립트 다운로드 및 실행이 끝난 후 다시 HTML 파싱을 재개하는 것이다.
이렇게되면 사용자가 페이지 내용을 늦게 볼수밖에없게되고, 이는 성능저하로 이어진다는 문제가 발생한다.
-->